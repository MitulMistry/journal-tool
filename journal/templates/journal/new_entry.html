{% extends "journal/layout.html" %}
{% load static %}

{% block body %}
    <h3>New Entry</h3>

    <div class="p-5 mb-4 bg-light2 rounded-3">        
        <form action="{% url 'register_user' %}" method="post">
            {% csrf_token %}
            <div class="row">
                <div class="col">
                    <div class="mb-3">
                        <label for="date" class="form-label">Date</label>
                        <input class="form-control" autofocus type="date" name="date" id="input-date" value="2021-01-01" min="2020-01-01">
                    </div>
                    <div class="mb-3">
                        <label for="time" class="form-label">Time</label>
                        <input class="form-control" type="time" name="time" id="input-time" value="13:00">
                    </div>
                    <div class="mb-3">
                        <label for="mood" class="form-label2">Mood</label>
                        <div id="moodHelp" class="form-text2">How do you feel?</div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="mood" id="mood1" value="1">
                            <label class="form-check-label" for="mood1">1</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="mood" id="mood2" value="2">
                            <label class="form-check-label" for="mood2">2</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="mood" id="mood3" value="3" checked>
                            <label class="form-check-label" for="mood3">3</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="mood" id="mood4" value="4">
                            <label class="form-check-label" for="mood4">4</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="mood" id="mood5" value="5">
                            <label class="form-check-label" for="mood5">5</label>
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="events" class="form-label2">Events</label>
                        <div id="eventsHelp" class="form-text2">What happened today?</div>
                        <textarea class="form-control" name="events" rows="6"></textarea>
                    </div>
                    <div class="mb-3">
                        <label for="activities" class="form-label2">Activities</label>
                        <div id="activitiesHelp" class="form-text2">What did you do today?</div>
                        <input class="form-control" autofocus type="text" name="activities">
                        <button type="button" class="btn btn-primary btn-sm" id="add-activity-btn">Add New</button>
                        
                        <input type="checkbox" class="btn-check" id="btn-activity-1" autocomplete="off">
                        <label class="btn btn-activity btn-sm" for="btn-activity-1">Activity 1</label>
                    </div>                    
                </div>
                <div class="col">
                    <div class="mb-3">
                        <label for="negative_thoughts" class="form-label2">Negative Thoughts</label>
                        <div id="negativeHelp" class="form-text2">What negative thoughts did you experience today?</div>
                        <textarea class="form-control" name="negative_thoughts" rows="4"></textarea>
                    </div>
                    <div class="mb-3">
                        <label for="distortions" class="form-label2">Cognitive Distortions</label>
                        <div id="distortionsHelp" class="form-text2">Identify from list</div>
                        
                        {% for distortion in distortions %}
                            <input type="checkbox" class="btn-check" id="btn-distortion-{{ distortion.id }}" autocomplete="off">
                            <label class="btn btn-distortion btn-sm" for="btn-distortion-{{ distortion.id }}">{{ distortion.name }}</label>
                        {% endfor %}
                    </div>
                    <div class="mb-3">
                        <label for="positive_thoughts" class="form-label2">Positive Thoughts</label>
                        <div id="positiveHelp" class="form-text2">How can you reframe your negative thoughts?</div>
                        <textarea class="form-control" name="positive_thoughts" rows="4"></textarea>
                    </div>
                    <input class="btn btn-primary" type="submit" value="Submit">
                </div>
            </div>
        </form>
    </div>
{% endblock %}

{% block script %}
    <script src="{% static 'journal/new_entry.js' %}"></script>
{% endblock %}